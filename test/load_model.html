<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Load Model</title>
  <style>
    body {
      margin: 0;
    }
  </style>
</head>

<body>
  <script type="module">
    import * as THREE from 'https://cdn.skypack.dev/three@latest';
    import { WEBGL } from 'https://cdn.skypack.dev/three@latest/examples/jsm/WebGL.js'
    import { GLTFLoader } from 'https://cdn.skypack.dev/three@latest/examples/jsm/loaders/GLTFLoader.js';
    
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

    const renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);
    
    const axis = THREE.AxisHelper(2000);
    axis.position.set(0, 0, 0);
    scene.add(axis);
    
    const light = new THREE.AmbientLight(0xffffff, 1.0);
    scene.add(light);

    const gltfLoader = new GLTFLoader();
    gltfLoader.load('../public/assets/three/test_model.glb', function (data) {
      console.log('Loaded')
      const gltf = data;
      const object = gltf.scene;
      scene.add(object);
    });
    
    

    camera.position.z = 20;

    function animate() {
      requestAnimationFrame(animate);
      renderer.render(scene, camera);
    }
    
    if ( WEBGL.isWebGLAvailable() ) {
	    // Initiate function or other initializations here
	    animate();
    } else {
	    const warning = WEBGL.getWebGLErrorMessage();
	    alert(warning)
    }
  </script>
</body>

</html>